import numpy as np
import matplotlib.pyplot as plt
import time
import datetime
filename_2 = './output/npz/iter1000,n6output_20240104082110.npz'
filename = './output/npz/iter1000,n6output_20240104095434.npz'
filename = './output/npz/iter1000,n6output_20240118015714.npz'
data_2 = np.load(filename_2)
data = np.load(filename)
#
A_2 = data_2['A'].tolist()
B_2 = data_2['B'].tolist()
C_2 = data_2['C'].tolist()
D_2 = data_2['D']
# # 从data中读取矩阵A和B
A = data['A'].tolist()
B = data['B'].tolist()
C = data['C'].tolist()
D = data['D']
print(A)
print(B)
print(C)
print(bin(D))
# C = [21.406, 20.869, 20.324, 20.277, 20.277, 20.277, 19.985, 19.985, 19.985, 19.985, 19.985, 19.985, 19.985, 19.985, 19.985, 19.985, 19.153, 19.153, 19.153, 19.153, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 18.318, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.786, 17.665, 17.665, 17.665, 17.665, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503, 17.503]
print(len(A))
print(len(B))

x = list(range(len(C)))
plt.rcParams['font.sans-serif'] = ['Times New Roman']
# fig = plt.figure(figsize=(10, 10), dpi=300)
# plt.xlabel('Iter-time')
# plt.ylabel('MAPE')
#
# plt.xticks([0, len(C)-1], [x[0], x[-1]])
# plt.title('Loss')
# plt.plot(x,C)

fig, axs = plt.subplots(2)
fig.set_dpi(300)
axs[0].plot(x, C)
axs[0].set_title('Pearson')
axs[0].set_xlabel('Iter-time')
axs[0].set_ylabel('MAPE')
# 在第二个子图中绘制 cos 函数
axs[1].plot(x, C_2)
axs[1].set_title('Spearman')
axs[1].set_xlabel('Iter-time')
axs[1].set_ylabel('MAPE')
plt.tight_layout()
now = time.clock()
# plt.savefig('./output/loss/' + datetime.datetime.now().strftime('%Y%m%d%H%M%S') + 'spearmanrlossfig.svg')
plt.show()

# p=

